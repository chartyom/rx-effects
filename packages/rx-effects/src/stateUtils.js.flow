// @flow strict

import { Observable } from 'rxjs';
import { Action } from './action';
import { Effect } from './effect';
import { StateQuery } from './stateQuery';
import { StateStore } from './stateStore';

declare export function createUpdateStoreEffect<Event, State>(
  store: StateStore<State>,
  reducer: (state: State, event: Event) => State,
): Effect<Event>;

declare export function createResetStoreEffect<State>(
  store: StateStore<State>,
  nextState: State,
): Effect<void>;

declare export function withStore<Event, State>(
  action: Observable<Event> | Action<Event>,
  store: StateStore<State>,
): Observable<[Event, State]>;

declare export function withQuery<Event, Value>(
  action: Observable<Event> | Action<Event>,
  query: StateQuery<Value>,
): Observable<[Event, Value]>;
